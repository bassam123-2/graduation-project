<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports & Analytics | AL-BOQAI Center Admin</title>
    <link rel="stylesheet" href="admin-dashboard.css">
    <link rel="stylesheet" href="header.css">
    <link rel="stylesheet" href="footer.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <!-- Header -->
    <div class="header">
        <div class="logo">
            <a href="home.html" style="display: flex; align-items: center; text-decoration: none;">
                <div style="display: flex; align-items: center; background: transparent; color: #2a5d9f; padding: 10px 20px; border-radius: 8px; font-family: Arial, sans-serif;">
                    <div style="background: #2a5d9f; color: white; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 12px; margin-right: 15px;">
                        Dr.<br>MBI
                    </div>
                    <div style="display: flex; flex-direction: column;">
                        <div style="font-size: 18px; font-weight: bold; color: #2a5d9f; line-height: 1;">
                            البقاعي للعلاج الحكمي
                        </div>
                        <div style="font-size: 12px; color: #666; margin-top: 2px;">
                            AL-BOQAI World for Judgmental therapy
                        </div>
                    </div>
                </div>
            </a>
        </div>
        
        <!-- Admin Navigation -->
        <ul class="navbar">
            <li><a href="admin-dashboard.html">Admin Dashboard</a></li>
            <li><a href="admin-appointments.html">Appointments</a></li>
            <li><a href="admin-users.html">Users</a></li>
            <li><a href="admin-testimonials.html">Testimonials</a></li>
            <li><a href="admin-reports.html" class="active">Reports</a></li>
            <li class="dropdown">
                <span class="dropdown-trigger">Admin</span>
                <ul class="dropdown-menu">
                    <li><a href="#settings">Settings</a></li>
                    <li><a href="#" onclick="logout()">Logout</a></li>
                </ul>
            </li>
        </ul>
        
        <!-- Dark Mode & Language Toggle -->
        <div class="theme-toggle" style="display: flex; gap: 10px; align-items: center;">
            <button id="lang-toggle-btn" class="theme-btn" title="تبديل اللغة / Switch Language">
                <i class="fas fa-language"></i>
            </button>
            <button id="theme-toggle-btn" class="theme-btn">
                <i class="fas fa-moon" id="theme-icon"></i>
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="admin-dashboard-container">
        <!-- Page Header -->
        <div class="page-header">
            <div class="header-content">
                <h1><i class="fas fa-chart-bar"></i> Reports & Analytics</h1>
                <p>Comprehensive insights and analytics for AL-BOQAI Center</p>
            </div>
            <div class="header-actions">
                <button class="btn-primary" onclick="generateReport()">
                    <i class="fas fa-file-pdf"></i> Generate Report
                </button>
                <button class="btn-secondary" onclick="refreshData()">
                    <i class="fas fa-sync-alt"></i> Refresh Data
                </button>
            </div>
        </div>

        <!-- Date Range Selector -->
        <div class="date-range-selector">
            <div class="date-inputs">
                <div class="date-input">
                    <label for="start-date">Start Date:</label>
                    <input type="date" id="start-date" />
                </div>
                <div class="date-input">
                    <label for="end-date">End Date:</label>
                    <input type="date" id="end-date" />
                </div>
                <button class="btn-primary" onclick="updateCharts()">
                    <i class="fas fa-search"></i> Update
                </button>
            </div>
        </div>

        <!-- Analytics Grid -->
        <div class="analytics-grid">
            <!-- Key Metrics -->
            <div class="analytics-card key-metrics">
                <div class="card-header">
                    <h3><i class="fas fa-tachometer-alt"></i> Key Metrics</h3>
                </div>
                <div class="card-content">
                    <div class="metrics-grid">
                        <div class="metric-item">
                            <div class="metric-icon">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <div class="metric-details">
                                <span class="metric-number" id="total-appointments-metric">0</span>
                                <span class="metric-label">Total Appointments</span>
                            </div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="metric-details">
                                <span class="metric-number" id="total-users-metric">0</span>
                                <span class="metric-label">Total Users</span>
                            </div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <div class="metric-details">
                                <span class="metric-number" id="avg-rating-metric">0.0</span>
                                <span class="metric-label">Average Rating</span>
                            </div>
                        </div>
                        <div class="metric-item">
                            <div class="metric-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="metric-details">
                                <span class="metric-number" id="revenue-metric">$0</span>
                                <span class="metric-label">Revenue</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Appointment Trends -->
            <div class="analytics-card appointment-trends">
                <div class="card-header">
                    <h3><i class="fas fa-chart-line"></i> Appointment Trends</h3>
                </div>
                <div class="card-content">
                    <canvas id="appointmentTrendsChart"></canvas>
                </div>
            </div>

            <!-- Service Distribution -->
            <div class="analytics-card service-distribution">
                <div class="card-header">
                    <h3><i class="fas fa-chart-pie"></i> Service Distribution</h3>
                </div>
                <div class="card-content">
                    <canvas id="serviceDistributionChart"></canvas>
                </div>
            </div>

            <!-- User Growth -->
            <div class="analytics-card user-growth">
                <div class="card-header">
                    <h3><i class="fas fa-users"></i> User Growth</h3>
                </div>
                <div class="card-content">
                    <canvas id="userGrowthChart"></canvas>
                </div>
            </div>

            <!-- Top Services -->
            <div class="analytics-card top-services">
                <div class="card-header">
                    <h3><i class="fas fa-trophy"></i> Top Services</h3>
                </div>
                <div class="card-content">
                    <div id="top-services-list" class="top-services-list">
                        <div class="loading-state">
                            <i class="fas fa-spinner fa-spin"></i>
                            <span>Loading top services...</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="analytics-card recent-activity">
                <div class="card-header">
                    <h3><i class="fas fa-history"></i> Recent Activity</h3>
                </div>
                <div class="card-content">
                    <div id="recent-activity-list" class="activity-list">
                        <div class="loading-state">
                            <i class="fas fa-spinner fa-spin"></i>
                            <span>Loading activity...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="home.html">Home</a></li>
                    <li><a href="admin-dashboard.html">Admin Dashboard</a></li>
                    <li><a href="admin-appointments.html">Appointments</a></li>
                    <li><a href="admin-users.html">Users</a></li>
                    <li><a href="admin-testimonials.html">Testimonials</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Contact</h4>
                <ul>
                    <li><a href="mailto:alboqaiworld@gmail.com" target="_blank">Email: alboqaiworld@gmail.com</a></li>
                    <li>Phone: +962775252444</li>
                    <li><a href="https://maps.app.goo.gl/8sPWu3tUFbbenmvd7?g_st=iw" target="_blank">al-andlos road, Irbid</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Working Hours</h4>
                <ul>
                    <li>Saturday - Thursday: 8:00 - 16:00</li>
                    <li>Friday: Closed</li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            &copy; 2025 AL-BOQAI CENTER. All rights reserved.
        </div>
    </div>

    <script src="config.js"></script>
    <script src="admin-reports.js"></script>
    <script src="dark-mode.js"></script>
</body>
</html>
