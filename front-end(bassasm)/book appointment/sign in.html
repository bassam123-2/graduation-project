<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About Us | Elaji Center</title>
    <link rel="stylesheet" href="sign in.css">
    <link rel="stylesheet" href="../header.css">
    <link rel="stylesheet" href="../footer.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="../config.js"></script>
</head>
<!--logo-->
<body>
    <!-- Header (copied and adapted from book.html) -->
    <div class="header">
        <div class="logo">
            <a href="../home.html" style="display: flex; align-items: center; text-decoration: none;">
                <div style="display: flex; align-items: center; background: transparent; color: #2a5d9f; padding: 10px 20px; border-radius: 8px; font-family: Arial, sans-serif;">
                    <div style="background: #2a5d9f; color: white; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; font-weight: bold; font-size: 12px; margin-right: 15px;">
                        Dr.<br>MBI
                    </div>
                    <div style="display: flex; flex-direction: column;">
                        <div style="font-size: 18px; font-weight: bold; color: #2a5d9f; line-height: 1;">
                            ÿßŸÑÿ®ŸÇÿßÿπŸä ŸÑŸÑÿπŸÑÿßÿ¨ ÿßŸÑÿ≠ŸÉŸÖŸä
                        </div>
                        <div style="font-size: 12px; color: #666; margin-top: 2px;">
                            AL-BOQAI World for Judgmental therapy
                        </div>
                    </div>
                </div>
            </a>
        </div>
        <!-- Navigation -->
        <ul class="navbar">
            <li><a href="../home.html">Home</a></li>
            <li><a href="../success-stories.html">Success Stories</a></li>
            <li class="dropdown">
                <span class="dropdown-trigger">ABOUT US</span>
                <ul class="dropdown-menu">
                    <li><a href="../about us/aboutus.html">About us</a></li>
                    <li><a href="../about us/boqia cv.html">Boqia cv</a></li>
                    <li><a href="../about us/targeted group.html">Targeted People</a></li>
                </ul>
            </li>
            <li class="dropdown">
                <span class="dropdown-trigger">Our Services</span>
                <ul class="dropdown-menu">
                    <li><a href="../our services/manual therapy.html">Manual Therapy</a></li>
                    <li><a href="../our services/physical therapy.html">Physical Therapy</a></li>
                    <li><a href="../our services/Rehabilitation Body Engineering for Manual Therapy Sciences.html">Rehabilitation Body Engineering</a></li>
                </ul>
            </li>
            <li><a href="book.html">Book Appointment</a></li>
            <li><a href="contact us.html">Contact Us</a></li>
            <li><a href="sign in.html" class="signin-link active">Sign In</a></li>
        </ul>
        <!-- Dark Mode & Language Toggle -->
        <div class="theme-toggle" style="display: flex; gap: 10px; align-items: center;">
            <button id="lang-toggle-btn" class="theme-btn" title="ÿ™ÿ®ÿØŸäŸÑ ÿßŸÑŸÑÿ∫ÿ© / Switch Language">
                <i class="fas fa-language"></i>
            </button>
            <button id="theme-toggle-btn" class="theme-btn">
                <i class="fas fa-moon" id="theme-icon"></i>
            </button>
        </div>
    </div>
    <!-- WhatsApp Floating Button (optional, can be added for consistency) -->
    <div class="whatsapp-float">
        <a href="https://wa.me/962775252444" target="_blank" class="whatsapp-btn" aria-label="Contact us on WhatsApp">
            <i class="fab fa-whatsapp"></i>
            <span class="whatsapp-tooltip">Chat with us on WhatsApp</span>
        </a>
    </div>
       <!--body-->
        <div class="signin-container">
  <form class="signin-form">
         <h2>Patient Sign In</h2>
     <p style="text-align: center; color: #666; margin-bottom: 20px;">Sign in to access your patient dashboard</p>
     <div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 5px; padding: 10px; margin-bottom: 20px; text-align: center;">
       <i class="fas fa-shield-alt" style="color: #856404; margin-right: 5px;"></i>
       <strong>Security Notice:</strong> Admin access is restricted to backend management only.
     </div>
    <div class="form-group">
      <label for="username">Username</label>
      <input type="text" id="username" name="username" required>
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <div class="password-wrapper">
        <input type="password" id="password" name="password" required>
        <button type="button" class="toggle-password" onclick="togglePassword()" style="display: inline-block !important; visibility: visible !important; opacity: 1 !important;">Show</button>
      </div>
    </div>
            <button type="submit" id="signin-btn">Sign In</button>
        

     <div class="signin-links">
      <a href="../password-reset.html" class="forgot-link">
        <i class="fas fa-key"></i> Forgot Password?
      </a>
      <span>Don't have an account? <a href="register.html" class="register-link">Register</a></span>
    </div>
    <script>
      function togglePassword() {
        console.log('togglePassword function called');
        var pwd = document.getElementById('password');
        var btn = document.querySelector('.toggle-password');
        
        if (!pwd) {
          console.error('Password input not found');
          return;
        }
        
        if (!btn) {
          console.error('Toggle button not found');
          return;
        }
        
        console.log('Current password type:', pwd.type);
        console.log('Current button text:', btn.textContent);
        
        if (pwd.type === 'password') {
          pwd.type = 'text';
          btn.textContent = 'Hide';
          console.log('Password now visible');
        } else {
          pwd.type = 'password';
          btn.textContent = 'Show';
          console.log('Password now hidden');
        }
              }
        

        
        // Enhanced Sign In with Dashboard Redirect
      document.addEventListener('DOMContentLoaded', function() {
        
        const signinForm = document.querySelector('.signin-form');
        const signinBtn = document.getElementById('signin-btn');
        
        signinForm.addEventListener('submit', async function(e) {
          e.preventDefault();
          
          const username = document.getElementById('username').value;
          const password = document.getElementById('password').value;
          
          console.log('üîê Sign-in attempt:', { username, passwordLength: password.length });
          
          if (!username || !password) {
            showNotification('Please fill in all fields', 'error');
            return;
          }
          
          // Show loading state
          signinBtn.disabled = true;
          signinBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Signing In...';
          
          try {
            // Call login API using configuration
            const response = await fetch(CONFIG.API.BASE_URL + CONFIG.API.ENDPOINTS.LOGIN, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json',
                'X-Requested-With': 'XMLHttpRequest'
              },
              credentials: 'include',
              body: JSON.stringify({
                username: username,
                password: password
              })
            });
            
            const data = await response.json();
            
            if (response.ok && data.success) {
              // Check if user is trying to sign in as admin (blocked for security)
              if (data.role === 'admin') {
                showNotification('Admin users cannot sign in through the frontend. Please contact the system administrator.', 'error');
                console.log('‚ùå Admin user blocked from frontend sign-in:', data.username);
                return;
              }
              
              // Store user session (only for patients)
              localStorage.setItem('userId', data.user_id);
              localStorage.setItem('userRole', data.role || 'patient');
              localStorage.setItem('sessionId', data.session_id || Date.now().toString());
              
              // Store complete user data for profile display
              if (data.user) {
                localStorage.setItem('userData', JSON.stringify(data.user));
                console.log('‚úÖ Full user data stored:', data.user);
              } else {
                // Fallback if user data is not provided
                const fallbackUserData = {
                  id: data.user_id,
                  username: data.username,
                  email: data.email,
                  role: data.role,
                  first_name: data.first_name || 'Patient',
                  last_name: data.last_name || 'User',
                  phone_number: 'Not provided',
                  gender: 'Not specified',
                  address: 'Not provided',
                  city: 'Not provided',
                  blood_type: 'Not provided',
                  emergency_contact: 'Not provided'
                };
                localStorage.setItem('userData', JSON.stringify(fallbackUserData));
                console.log('‚ö†Ô∏è Using fallback user data:', fallbackUserData);
              }
                      console.log('‚úÖ Patient login successful, user role:', data.role);
        console.log('üîë Login response data:', data);
        
        showNotification('Sign in successful! Redirecting to patient dashboard...', 'success');
              
              // Trigger auth state change for all tabs and pages
              if (typeof AuthManager !== 'undefined') {
                AuthManager.triggerAuthStateChange();
                AuthManager.triggerLoginSuccess();
              }
              
              // Also trigger a custom event for immediate response
              window.dispatchEvent(new CustomEvent('loginSuccess'));
              
              // Redirect to patient dashboard only
              const redirectUrl = '../patient-dashboard.html';
              console.log('üîÑ Redirecting to patient dashboard:', redirectUrl);
              
              console.log('‚è≥ Waiting 1.5 seconds before redirect...');
              setTimeout(() => {
                console.log('üöÄ Executing redirect to:', redirectUrl);
                window.location.href = redirectUrl;
              }, 1500);
              
            } else {
              // Handle specific error cases
              if (data.needs_verification) {
                showNotification('Please verify your email before signing in. Check your inbox for verification instructions.', 'warning');
                // Optionally redirect to verification page
                setTimeout(() => {
                  window.location.href = '../email-verification.html?email=' + encodeURIComponent(data.email || username);
                }, 3000);
              } else if (data.error) {
                throw new Error(data.error);
              } else {
                throw new Error('Invalid credentials');
              }
            }
            
          } catch (error) {
            console.error('Sign in error:', error);
            
            // Handle specific error types
            let errorMessage = error.message;
            if (error.message.includes('Account is not active')) {
              errorMessage = CONFIG.ERROR_MESSAGES.ACCOUNT_INACTIVE;
            } else if (error.message.includes('Email not verified')) {
              errorMessage = CONFIG.ERROR_MESSAGES.VERIFICATION_NEEDED;
            } else if (error.message.includes('Invalid password')) {
              errorMessage = CONFIG.ERROR_MESSAGES.INVALID_CREDENTIALS;
            } else if (error.message.includes('Invalid credentials')) {
              errorMessage = CONFIG.ERROR_MESSAGES.INVALID_CREDENTIALS;
            }
            
            showNotification(errorMessage, 'error');
          } finally {
            // Reset button state
            signinBtn.disabled = false;
            signinBtn.textContent = 'Sign In';
          }
        });
        
        // Password toggle functionality - add fallback event listener
        const togglePasswordBtn = document.querySelector('.toggle-password');
        if (togglePasswordBtn) {
          // Remove existing onclick to avoid conflicts
          togglePasswordBtn.removeAttribute('onclick');
          // Add event listener
          togglePasswordBtn.addEventListener('click', function(e) {
            e.preventDefault();
            togglePassword();
          });
          console.log('‚úÖ Fallback event listener added to toggle button');
        } else {
          console.error('‚ùå Toggle password button not found for fallback');
        }
        
        function showNotification(message, type = 'info') {
          // Remove existing notifications
          const existingNotifications = document.querySelectorAll('.signin-notification');
          existingNotifications.forEach(n => n.remove());
          
          // Create notification
          const notification = document.createElement('div');
          notification.className = `signin-notification notification-${type}`;
          notification.innerHTML = `
            <div class="notification-content">
              <i class="fas fa-${getNotificationIcon(type)}"></i>
              <span>${message}</span>
            </div>
          `;
          
          // Add styles
          notification.style.cssText = `
            position: fixed;
            top: 20px;
            right: 20px;
            background: ${type === 'success' ? '#28a745' : type === 'error' ? '#dc3545' : type === 'warning' ? '#ffc107' : '#17a2b8'};
            color: white;
            padding: 15px 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            z-index: 10000;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideInRight 0.3s ease;
            max-width: 400px;
            font-weight: 500;
          `;
          
          document.body.appendChild(notification);
          
          // Auto remove after 6 seconds for warnings, 4 seconds for others
          const autoRemoveTime = type === 'warning' ? 6000 : 4000;
          setTimeout(() => {
            if (notification.parentElement) {
              notification.style.animation = 'slideOutRight 0.3s ease';
              setTimeout(() => notification.remove(), 300);
            }
          }, autoRemoveTime);
        }
        
        function getNotificationIcon(type) {
          const icons = {
            'success': 'check-circle',
            'error': 'exclamation-circle',
            'warning': 'exclamation-triangle',
            'info': 'info-circle'
          };
          return icons[type] || 'info-circle';
        }
      });
    </script>
    
    <style>
      @keyframes slideInRight {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      
      @keyframes slideOutRight {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
      
      .signin-form button[disabled] {
        opacity: 0.7;
        cursor: not-allowed;
      }
      
      .signin-form button[disabled]:hover {
        transform: none;
      }
    </style>
</div>
<!--footer -->
   <div class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="../home.html">Home</a></li>
                    <li><a href="sign in.html">Sign In</a></li>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="../patient-testimonials.html">Success Stories</a></li>
                    <li><a href="book.html">Book Appointment</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Contact</h4>
                <ul>
                    <li><a href="mailto:alboqaiworld@gmail.com" target="_blank">Email: alboqaiworld@gmail.com</a></li>
                    <li>Phone: +962775252444</li>
                    <li><a href="https://maps.app.goo.gl/8sPWu3tUFbbenmvd7?g_st=iw" target="_blank">al-andlos road, Irbid</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h4>Working Hours</h4>
                <ul>
                    <li>Saturday - Thursday: 8:00 - 16:00</li>
                    <li>Friday: Closed</li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            &copy; 2025 AL-BOQAI CENTER. All rights reserved.
        </div>
    </div>

    <script src="../dark-mode.js"></script>
    <script>
// Language toggle logic (copied and adapted from book.html)
const translations = {
  ar: {
    header: [
      'ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©', 'ŸÇÿµÿµ ÿßŸÑŸÜÿ¨ÿßÿ≠', 'ŸÖŸÜ ŸÜÿ≠ŸÜ', 'ŸÖŸÜ ŸÜÿ≠ŸÜ', 'ÿßŸÑÿ≥Ÿäÿ±ÿ© ÿßŸÑÿ∞ÿßÿ™Ÿäÿ©', 'ÿßŸÑŸÅÿ¶ÿßÿ™ ÿßŸÑŸÖÿ≥ŸáÿØŸÅÿ©', 'ÿßŸÑÿÆÿØŸÖÿßÿ™ ÿßŸÑŸÖŸÇÿØŸÖÿ©', 'ÿßŸÑÿπŸÑÿßÿ¨ ÿßŸÑŸäÿØŸàŸä', 'ÿßŸÑÿπŸÑÿßÿ¨ ÿßŸÑŸÅŸäÿ≤Ÿäÿßÿ¶Ÿä', 'ŸáŸÜÿØÿ≥ÿ© ÿßÿπÿßÿØÿ© ÿßŸÑÿ™ÿ£ŸáŸäŸÑ', 'ÿßÿ≠ÿ¨ÿ≤ ŸÖŸàÿπÿØ', 'ÿ™ŸÇŸäŸäŸÖ ÿßŸÑÿ£ÿπÿ±ÿßÿ∂ ÿ®ÿßŸÑÿ∞ŸÉÿßÿ° ÿßŸÑÿßÿµÿ∑ŸÜÿßÿπŸä', 'ÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÜÿß ', 'ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ'
    ],
    signin: {
      h2: "ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ",
      username: "ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ",
      password: "ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±",
      show: "ÿ•ÿ∏Ÿáÿßÿ±",
      hide: "ÿ•ÿÆŸÅÿßÿ°",
      signIn: "ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ",
      forgotPassword: "ŸÜÿ≥Ÿäÿ™ ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±ÿü",
      noAccount: "ŸÑŸäÿ≥ ŸÑÿØŸäŸÉ ÿ≠ÿ≥ÿßÿ®ÿü",
      register: "ÿ™ÿ≥ÿ¨ŸäŸÑ"
    },
    servicesDropdown: ["ÿßŸÑÿπŸÑÿßÿ¨ ÿßŸÑŸäÿØŸàŸä", "ÿßŸÑÿπŸÑÿßÿ¨ ÿßŸÑŸÅŸäÿ≤Ÿäÿßÿ¶Ÿä", "ŸáŸÜÿØÿ≥ÿ© ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ™ÿ£ŸáŸäŸÑ"],
    aboutDropdown: ["ŸÖŸÜ ŸÜÿ≠ŸÜ", "ÿßŸÑÿ≥Ÿäÿ±ÿ© ÿßŸÑÿ∞ÿßÿ™Ÿäÿ©", "ÿßŸÑŸÅÿ¶ÿßÿ™ ÿßŸÑŸÖÿ≥ŸáÿØŸÅÿ©"],
    footer: {
      quick: "ÿ±Ÿàÿßÿ®ÿ∑ ÿ≥ÿ±Ÿäÿπÿ©",
      quickLinks: ["ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©", "ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ", "ÿßÿ™ÿµŸÑ ÿ®ŸÜÿß", "ŸÇÿµÿµ ÿßŸÑŸÜÿ¨ÿßÿ≠", "ÿ≠ÿ¨ÿ≤ ŸÖŸàÿπÿØ"],
      contact: "ÿ™ŸàÿßÿµŸÑ ŸÖÿπŸÜÿß",
      email: "ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä: alboqaiworld@gmail.com",
      phone: "ÿßŸÑŸáÿßÿ™ŸÅ: +962775252444",
      address: "ÿ¥ÿßÿ±ÿπ ÿßŸÑÿ£ŸÜÿØŸÑÿ≥ÿå ÿ•ÿ±ÿ®ÿØ",
      hours: "ÿ≥ÿßÿπÿßÿ™ ÿßŸÑÿπŸÖŸÑ",
      hoursList: ["ÿßŸÑÿ≥ÿ®ÿ™ - ÿßŸÑÿÆŸÖŸäÿ≥: 8:00 - 16:00", "ÿßŸÑÿ¨ŸÖÿπÿ©: ŸÖÿ∫ŸÑŸÇ"],
      copyright: "¬© 2025 ŸÖÿ±ŸÉÿ≤ ÿßŸÑÿ®ŸÇÿßÿπŸä. ÿ¨ŸÖŸäÿπ ÿßŸÑÿ≠ŸÇŸàŸÇ ŸÖÿ≠ŸÅŸàÿ∏ÿ©."
    }
  },
  en: {
    header: [
      'Home', 'Success Stories', 'About Us','About Us' , 'Boqia cv', 'Targeted People', 'Our Services', 'Manual Therapy', 'Physical Therapy', 'Rehabilitation Body Engineering', 'Book Appointment', 'AI Assessment', 'Contact Us', 'Sign In'
    ],
    signin: {
      h2: "Sign In",
      username: "Username",
      password: "Password",
      show: "Show",
      hide: "Hide",
      signIn: "Sign In",
      forgotPassword: "Forgot password?",
      noAccount: "Don't have an account?",
      register: "Register"
    },
    servicesDropdown: ["Manual Therapy", "Physical Therapy", "Rehabilitation Body Engineering"],
    aboutDropdown: ["About us", "Boqia cv", "Targeted People"],
    footer: {
      quick: "Quick Links",
      quickLinks: ["Home", "Sign In", "Contact Us", "Success Stories", "Book Appointment"],
      contact: "Contact",
      email: "Email: alboqaiworld@gmail.com",
      phone: "Phone: +962775252444",
      address: "al-andlos road, Irbid",
      hours: "Working Hours",
      hoursList: ["Saturday - Thursday: 8:00 - 16:00", "Friday: Closed"],
      copyright: "¬© 2025 AL-BOQAI CENTER. All rights reserved."
    }
  }
};

function setLanguage(lang) {
  document.documentElement.lang = lang;
  document.body.dir = lang === 'ar' ? 'rtl' : 'ltr';
  localStorage.setItem('lang', lang);
  // Header
  const navLinks = document.querySelectorAll('.navbar > li > a, .dropdown-menu > li > a, .dropdown-trigger');
  const t = translations[lang];
  const navOrder = [0,1,2,3,4,5,6,7,8,9,10,11,12,13];
  navLinks.forEach((el, i) => { if (t.header[navOrder[i]]) el.innerHTML = t.header[navOrder[i]]; });
  // Nav alignment
  const navbar = document.querySelector('.navbar');
  if (navbar) {
    if (lang === 'ar') {
      navbar.style.flexDirection = 'row-reverse';
      navbar.style.textAlign = 'right';
    } else {
      navbar.style.flexDirection = 'row';
      navbar.style.textAlign = 'left';
    }
  }
  document.querySelectorAll('.dropdown-menu').forEach(menu => {
    menu.style.textAlign = lang === 'ar' ? 'right' : 'left';
  });
  // Sign in form
  const signin = t.signin;
  document.querySelector('.signin-form h2').textContent = signin.h2;
  document.querySelector('label[for="username"]').textContent = signin.username;
  document.querySelector('label[for="password"]').textContent = signin.password;
  document.querySelector('.signin-form button[type="submit"]').textContent = signin.signIn;
  document.querySelector('.forgot-link').textContent = signin.forgotPassword;
  document.querySelector('.signin-links span').innerHTML = signin.noAccount + ' <a href="register.html" class="register-link">' + signin.register + '</a>';
  // Update toggle password button text
  const toggleBtn = document.querySelector('.toggle-password');
  if (toggleBtn.textContent === 'Show' || toggleBtn.textContent === 'ÿ•ÿ∏Ÿáÿßÿ±') {
    toggleBtn.textContent = signin.show;
  } else if (toggleBtn.textContent === 'Hide' || toggleBtn.textContent === 'ÿ•ÿÆŸÅÿßÿ°') {
    toggleBtn.textContent = signin.hide;
  }
  // Footer
  const footer = t.footer;
  document.querySelector('.footer-section h4').textContent = footer.quick;
  const quickLinks = document.querySelectorAll('.footer-section ul li a');
  footer.quickLinks.forEach((txt, i) => { if (quickLinks[i]) quickLinks[i].textContent = txt; });
  document.querySelectorAll('.footer-section h4')[1].textContent = footer.contact;
  const contactLinks = document.querySelectorAll('.footer-section ul')[1].querySelectorAll('li');
  contactLinks[0].querySelector('a').textContent = footer.email;
  contactLinks[1].textContent = footer.phone;
  contactLinks[2].querySelector('a').textContent = footer.address;
  document.querySelectorAll('.footer-section h4')[2].textContent = footer.hours;
  const hoursList = document.querySelectorAll('.footer-section ul')[2].querySelectorAll('li');
  footer.hoursList.forEach((txt, i) => { hoursList[i].textContent = txt; });
  document.querySelector('.footer-bottom').textContent = footer.copyright;
}

const langBtn = document.getElementById('lang-toggle-btn');
let lang = localStorage.getItem('lang') || 'en';
setLanguage(lang);
langBtn.addEventListener('click', function() {
  lang = lang === 'en' ? 'ar' : 'en';
  setLanguage(lang);
});

// Check if user came from email verification
document.addEventListener('DOMContentLoaded', function() {
  const urlParams = new URLSearchParams(window.location.search);
  if (urlParams.get('verified') === 'true') {
    showNotification('Email verified successfully! You can now sign in.', 'success');
    // Clean URL
    window.history.replaceState({}, document.title, window.location.pathname);
  }
});

// Debug function to check password reset status
window.debugPasswordReset = function() {
    console.log('üîç Debugging password reset issue...');
    console.log('Current localStorage contents:');
    for (let i = 0; i < localStorage.length; i++) {
        const key = localStorage.key(i);
        const value = localStorage.getItem(key);
        console.log(`${key}:`, value);
    }
    
    console.log('üßπ Clearing all cached data...');
    localStorage.clear();
    sessionStorage.clear();
    
    console.log('‚úÖ Cache cleared. Now try password reset again.');
    alert('Cache cleared! Please try the password reset process again.');
};
    </script>
</body>
</html>